(this["webpackJsonpcontact-list"]=this["webpackJsonpcontact-list"]||[]).push([[0],{26:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(19),s=c.n(r),i=(c(26),c(27),c(4));var o,l=function(t){var e=Object(n.useState)(!1),c=Object(i.a)(e,2),a=c[0],r=c[1],s=Object(n.useReducer)(t,{}),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(n.useCallback)((function(){return JSON.parse(JSON.stringify(l))}),[l]),d=Object(n.useMemo)((function(){return function(t,e){return function(c){return c instanceof Function?c(t,e):t(c)}}(u,j)}),[u,j]);return a||(u({type:"@INIT"}),r(!0)),[l,d]},u=c(8),j=c(2),d={CONTACTS:{SET_CONTACTS:"SET_CONTACTS"}},b={contacts:[],pending:!0},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d.CONTACTS.SET_CONTACTS:return Object(j.a)(Object(j.a)({},t),{},{contacts:e.payload,pending:!1});case d.CONTACTS.SET_SELECTED_TAB:return Object(j.a)(Object(j.a)({},t),{},{selectedTab:e.payload});default:return t}},f=(o={contacts:O},function(t,e){return Object.keys(o).reduce((function(t,c){return Object(j.a)(Object(j.a)({},t),{},Object(u.a)({},c,o[c](t[c],e)))}),t)}),h=c(0),x=a.a.createContext(),m=a.a.createContext(),p=function(t){var e=t.children,c=l(f),n=Object(i.a)(c,2),a=n[0],r=n[1];return Object(h.jsx)(x.Provider,{value:a,children:Object(h.jsx)(m.Provider,{value:r,children:e})})},v=function(){var t=Object(n.useContext)(m);return function(e){return t(e)}},C=function(t){var e=Object(n.useContext)(x),c=Object(n.useCallback)((function(t){return t(e)}),[e]);return c(t)},T=c(21),g=c(5),_=c.n(g),S=c(9),N={culture:{nat:"US",alphabet:"abcdefghijklmnopqrstuvwxyz".split("")},contactCount:"120"},y=Object(j.a)(Object(j.a)({},N),{}),E=c(20),k=c.n(E).a.create({baseURL:"https://randomuser.me/api"}),w=function(){var t=Object(S.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("",{params:{results:y.contactCount,nat:y.culture.nat}});case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),A=function(t){var e={};return null==t||(t.forEach((function(t){var c=t.name.last[0].toLocaleLowerCase();e[c]||(e[[c]]=[]),e[c].push(t)})),Object.keys(e).forEach((function(t){e[t].sort((function(t,e){return t.name.last>e.name.last?1:-1}))}))),e},L=function(t){return{type:d.CONTACTS.SET_SELECTED_TAB,payload:t}},F=function(t){return{type:d.CONTACTS.SET_CONTACTS,payload:t}},B=function(t){var e,c,a=t.setOpen,r=t.contact,s=t.modalStyle,i=Object(n.useRef)(null);return e=i,c=function(){a(!1)},Object(n.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&c()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e]),Object(h.jsxs)("div",{className:"contact-detail",ref:i,style:s,"data-testid":"contact-detail",children:[Object(h.jsx)("span",{className:"contact-detail__close-button",onClick:function(){a(!1)},children:"\u2716"}),Object(h.jsx)("div",{className:"contact-detail__image-container",children:Object(h.jsx)("img",{className:"contact-detail__image ",src:r.picture.medium,alt:"contact","data-testid":"user-image"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"contact-detail__full-name",children:"".concat(r.name.last,", ").concat(r.name.first)}),Object(h.jsxs)("div",{className:"contact-detail__username-badge",children:["username ",r.login.username]}),Object(h.jsx)("table",{className:"contact-detail__info-table",children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"email"})}),Object(h.jsx)("td",{children:r.email})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"phone"})}),Object(h.jsx)("td",{children:r.phone})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"street"})}),Object(h.jsx)("td",{children:r.location.street.name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"city"})}),Object(h.jsx)("td",{children:r.location.city})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"state"})}),Object(h.jsx)("td",{children:r.location.state})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("strong",{children:"postcode"})}),Object(h.jsx)("td",{children:r.location.postcode})]})]})})]})]})},I=function(t){var e=t.contacts,c=t.selectTab,n=t.selectedTab;return Object(h.jsx)("ul",{className:"contact-list-header",children:y.culture.alphabet.map((function(t){t=t.toLocaleLowerCase();var a=e[t]?e[t].length:0;return Object(h.jsx)("li",{"data-testid":"contact-list-header-item",className:"contact-list-header__item px-2 py-2 ".concat(a<1?"contact-list-header__item--disabled":""," ").concat(n===t?"contact-list-header__item--active":""),onClick:function(){a>0&&c(t)},children:Object(h.jsxs)("span",{children:[t,Object(h.jsx)("sub",{className:"ml-2",children:a})]})},t)}))})},J=function(t){var e=t.contact,c=t.onClick;return Object(h.jsx)("li",{className:"contact-list__item contact-list__item--hover ",onClick:c,"data-testid":"contact-list-item",children:"".concat(e.name.last,", ").concat(e.name.first)})},P=function(){var t=C((function(t){return t.contacts})),e=t.contacts,c=t.pending,a=t.selectedTab,r=Object(n.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)({}),f=Object(i.a)(O,2),x=f[0],m=f[1],p=v();Object(n.useEffect)((function(){p(function(){var t=Object(S.a)(_.a.mark((function t(e){var c,n,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:c=t.sent,n=A(c.data.results),a=Object.keys(n).sort()[0],e(L(a)),e(F(n)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())}),[]);return Object(h.jsx)("div",{className:"d-flex",children:Object(h.jsxs)("div",{className:"contact-list-container",children:[Object(h.jsx)(I,{contacts:e,selectTab:function(t){p(L(t))},selectedTab:a}),Object(h.jsx)("ul",{className:"contact-list",children:c?new Array(10).fill("loading...").map((function(t,e){return Object(h.jsx)("li",{className:"contact-list__item","data-testid":"loading-contacts",children:Object(h.jsx)(T.a,{})},e)})):e[a].map((function(t){return Object(h.jsx)(J,{contact:t,onClick:function(e){!function(t,e){l(!0),m({top:t.target.offsetTop+t.target.offsetHeight,left:t.target.offsetLeft,width:"".concat(t.target.offsetWidth,"px")}),b(e)}(e,t)}},t.id.value)}))}),o&&Object(h.jsx)(B,{setOpen:l,contact:d,modalStyle:x})]})})};var D=function(){return Object(h.jsx)(p,{children:Object(h.jsx)(P,{})})},R=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),r(t),s(t)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),R()}},[[48,1,2]]]);
//# sourceMappingURL=main.96071842.chunk.js.map